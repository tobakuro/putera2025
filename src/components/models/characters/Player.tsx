/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
Command: npx gltfjsx@6.5.3 public/models/3D/glb/hitogata/hitogata_move.glb -o src/components/models/characters/Player.tsx --types --shadows 
*/

import * as THREE from 'three';
import React from 'react';
import { useGraph } from '@react-three/fiber';
import { useGLTF, useAnimations } from '@react-three/drei';
import { GLTF, SkeletonUtils } from 'three-stdlib';

// Minimal GroupProps shape to avoid relying on module-specific exported types.
// Keeps common props used by react-three-fiber groups while remaining permissive.
export type GroupProps = {
  position?: THREE.Vector3 | [number, number, number] | number;
  rotation?: THREE.Euler | [number, number, number];
  scale?: THREE.Vector3 | [number, number, number] | number;
  children?: React.ReactNode;
  dispose?: unknown;
  [key: string]: unknown;
};

type ActionName = 'アーマチュアアクション';

interface GLTFAction extends THREE.AnimationClip {
  name: ActionName;
}

type GLTFResult = GLTF & {
  nodes: {
    立方体002: THREE.SkinnedMesh;
    Root: THREE.Bone;
  };
  materials: {
    kuro: THREE.MeshStandardMaterial;
  };
  animations: GLTFAction[];
};

export function Model(props: GroupProps) {
  const group = React.useRef<THREE.Group | null>(null);
  const { scene, animations } = useGLTF('/models/3D/glb/hitogata/hitogata_move.glb');
  const clone = React.useMemo(() => SkeletonUtils.clone(scene), [scene]);
  const { nodes, materials } = useGraph(clone) as unknown as GLTFResult;
  useAnimations(animations, group);
  return (
    <group ref={group} {...props} dispose={null}>
      <group name="Scene">
        <group name="アーマチュア">
          <primitive object={nodes.Root} />
          <skinnedMesh
            name="立方体002"
            geometry={nodes.立方体002.geometry}
            material={materials.kuro}
            skeleton={nodes.立方体002.skeleton}
            castShadow={false}
            receiveShadow={false}
          />
        </group>
      </group>
    </group>
  );
}

useGLTF.preload('/models/3D/glb/hitogata/hitogata_move.glb');
